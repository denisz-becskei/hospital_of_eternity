{"ast":null,"code":"import _asyncToGenerator from \"D:/Projects/Web Development Frameworks/hospital-of-eternity/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/auth\";\nimport * as i2 from \"@angular/fire/firestore\";\nexport let AuthService = /*@__PURE__*/(() => {\n  class AuthService {\n    constructor(afAuth, afs) {\n      this.afAuth = afAuth;\n      this.afs = afs;\n      this.userData = null;\n    }\n\n    logout() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.afAuth.signOut();\n        _this.userData = null;\n      })();\n    }\n\n    login(email, password) {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          const result = yield _this2.afAuth.signInWithEmailAndPassword(email, password);\n\n          _this2.setUserData(result.user);\n        } catch (_a) {\n          /* DO NOTHING HERE */\n        }\n      })();\n    }\n\n    authenticated() {\n      return this.afAuth.authState !== null;\n    }\n\n    currentUserObservable() {\n      return this.afAuth.authState;\n    }\n\n    getCurrentUser() {\n      return this.userData;\n    }\n\n    setUserData(user) {\n      this.userData = {\n        uid: user.uid,\n        email: user.email,\n        displayName: user.displayName,\n        emailVerified: user.emailVerified\n      };\n    }\n\n    updateCurrentUserName(name) {\n      return this.afAuth.currentUser.then(user => {\n        return user === null || user === void 0 ? void 0 : user.updateProfile({\n          displayName: name\n        });\n      });\n    }\n\n    createUser(email, password, name) {\n      return this.afAuth.createUserWithEmailAndPassword(email, password).then(result => {\n        if (name) {\n          this.updateCurrentUserName(name);\n        }\n\n        return result.user;\n      });\n    }\n\n  }\n\n  AuthService.ɵfac = function AuthService_Factory(t) {\n    return new (t || AuthService)(i0.ɵɵinject(i1.AngularFireAuth), i0.ɵɵinject(i2.AngularFirestore));\n  };\n\n  AuthService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AuthService,\n    factory: AuthService.ɵfac,\n    providedIn: 'root'\n  });\n  return AuthService;\n})();","map":null,"metadata":{},"sourceType":"module"}