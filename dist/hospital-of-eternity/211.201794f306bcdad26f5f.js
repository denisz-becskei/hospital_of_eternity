(self.webpackChunkhospital_of_eternity=self.webpackChunkhospital_of_eternity||[]).push([[211],{3211:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RegisterModule:()=>q});var s=r(8414),a=r(5522),o=r(9550),n=r(3070),i=r(1041),u=r(4369),m=r(2797),l=r(1116),h=r(5366),p=r(5910),d=r(2590),f=r(2263),c=r(4290);function g(e,t){if(1&e&&(h.TgZ(0,"mat-hint",11),h._uU(1),h.qZA()),2&e){const e=h.oxw();h.xp6(1),h.hij("Strength: ",e.passwordStrength(),"")}}function w(e,t){if(1&e&&(h.TgZ(0,"mat-hint",11),h._uU(1),h.qZA()),2&e){const e=h.oxw();h.xp6(1),h.Oqu(e.passwordEquals())}}function Z(e,t){1&e&&(h.TgZ(0,"mat-chip-list"),h.TgZ(1,"mat-chip",12),h._uU(2," The two passwords do NOT match! "),h.qZA(),h.qZA())}const v=[{path:"",component:(()=>{class e{constructor(e,t,r){this.router=e,this.authService=t,this.fb=r,this.form=new i.cw({username:new i.NI,email:new i.NI("",[i.kI.required,i.kI.email]),password1:new i.NI("",[i.kI.minLength(6),i.kI.required]),password2:new i.NI("",[i.kI.minLength(6),i.kI.required])}),this.error=!1}onKeydownHandler(){this.register()}passwordStrength(){return this.form.value.password1.length>=6&&this.hasUpperCase(this.form.value.password1)&&this.hasNumbers(this.form.value.password1)?"Strong as Hell!":this.form.value.password1.length>=6&&this.hasUpperCase(this.form.value.password1)?"Average, could be better":this.form.value.password1.length>=6?"Weak, but acceptable":this.form.value.password1.length<6&&this.form.value.password1.length>0?"Password too weak":""}passwordEquals(){return this.form.value.password1===this.form.value.password2?"The passwords match!":""}hasUpperCase(e){return/[A-Z]/.test(e)}hasNumbers(e){return/[0-9]/.test(e)}register(){if(this.error=!1,this.form.valid&&this.form.value.password1===this.form.value.password2)return console.log(this.form.value),this.authService.createUser(this.form.value.email,this.form.value.password1,this.form.value.username).then(()=>this.authService.login(this.form.value.email,this.form.value.password1)).then(()=>{this.authService.getCurrentUser().uid=null,this.fb.add("users",this.authService.getCurrentUser())}).then(()=>{this.authService.logout()}),void this.router.navigateByUrl("/home/login");this.error=!0}}return e.\u0275fac=function(t){return new(t||e)(h.Y36(p.F0),h.Y36(d.e),h.Y36(f.Y))},e.\u0275cmp=h.Xpm({type:e,selectors:[["app-register"]],hostBindings:function(e,t){1&e&&h.NdJ("keydown.enter",function(){return t.onKeydownHandler()},!1,h.evT)},decls:29,vars:5,consts:[[1,"centered"],[1,"centered",3,"formGroup","ngSubmit"],[1,"max-width"],["matInput","","type","text","name","nickname","required","","formControlName","username"],["type","email","name","email","matInput","","formControlName","email"],["type","password","name","password","matInput","","formControlName","password1"],["align","end",4,"ngIf"],["type","password","name","password","matInput","","formControlName","password2"],["password2",""],[4,"ngIf"],["type","submit","mat-raised-button","","color","primary",1,"max-width",3,"disabled"],["align","end"],["color","warn","selected","",1,"max-width",2,"margin-top","16px"]],template:function(e,t){1&e&&(h.TgZ(0,"app-container",0),h.TgZ(1,"mat-card"),h.TgZ(2,"form",1),h.NdJ("ngSubmit",function(){return t.register()}),h.TgZ(3,"h3"),h._uU(4,"Register"),h.qZA(),h.TgZ(5,"mat-form-field",2),h.TgZ(6,"mat-label"),h._uU(7,"Username"),h.qZA(),h._UZ(8,"input",3),h.qZA(),h.TgZ(9,"mat-form-field",2),h.TgZ(10,"mat-label"),h._uU(11,"E-mail"),h.qZA(),h._UZ(12,"input",4),h.qZA(),h.TgZ(13,"mat-form-field",2),h.TgZ(14,"mat-label"),h._uU(15,"Password"),h.qZA(),h._UZ(16,"input",5),h.YNc(17,g,2,1,"mat-hint",6),h.qZA(),h.TgZ(18,"mat-form-field",2),h.TgZ(19,"mat-label"),h._uU(20,"Repeat password"),h.qZA(),h._UZ(21,"input",7,8),h.YNc(23,w,2,1,"mat-hint",6),h.qZA(),h.YNc(24,Z,3,0,"mat-chip-list",9),h._UZ(25,"br"),h._UZ(26,"br"),h.TgZ(27,"button",10),h._uU(28,"REGISTER"),h.qZA(),h.qZA(),h.qZA(),h.qZA()),2&e&&(h.xp6(2),h.Q6J("formGroup",t.form),h.xp6(15),h.Q6J("ngIf",t.form.value.password1.length>0),h.xp6(6),h.Q6J("ngIf",t.form.value.password1.length>0),h.xp6(1),h.Q6J("ngIf",t.error),h.xp6(3),h.Q6J("disabled",t.form.invalid))},directives:[c.e,m.a8,i._Y,i.JL,i.sg,n.KE,n.hX,o.Nt,i.Fj,i.Q7,i.JJ,i.u,l.O5,u.lW,n.bx,a.qn,a.HS],styles:["",".bold[_ngcontent-%COMP%]{font-weight:700}.centered[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;align-items:center}"]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[p.Bz.forChild(v)],p.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[l.ez,i.u5,i.UX,b,m.QW,u.ot,n.lN,o.c,a.Hi,s.n]]}),e})()}}]);